# ThreadFileSharing MVP 10일 개발 계획 (수정판)

## 프로젝트 개요

**ThreadFileSharing**은 파일 중심의 팀 협업 플랫폼으로, 파일 업로드 → 스레드 자동 생성 → 체계적 토론의 혁신적인 플로우를 제공합니다.

### 핵심 가치

- 🎯 **파일이 곧 프로젝트**: 모든 파일이 독립적인 작업 공간
- 🔗 **자연스러운 연결**: `#스레드명`으로 채팅과 스레드를 자유롭게 연결
- 👥 **스마트한 협업**: 역할 기반 권한으로 안전하고 효율적인 팀워크
- ⚡ **실시간 동기화**: 모든 변경사항이 즉시 팀원들에게 전달

## 기술 스택

### Backend

- **Framework**: NestJS + Fastify
- **Database**: PostgreSQL + TypeORM
- **Real-time**: Socket.io
- **Authentication**: JWT + bcrypt
- **File Storage**: Local/Cloud storage

### Frontend

- **Framework**: React 18+
- **Routing**: React Router
- **Styling**: Tailwind CSS 4
- **Components**: shadcn/ui
- **Real-time**: Socket.io Client

### Shared

- **Language**: TypeScript
- **Validation**: Zod schemas
- **Package Manager**: pnpm

## MVP 기능 범위

### Must Have (핵심 기능)

1. ✅ 사용자 인증 (회원가입/로그인)
2. ✅ 파일 업로드 및 저장
3. ✅ 스레드 생성 (파일 기반)
4. ✅ 기본 채팅 (실시간)
5. ✅ 스레드 참조 (#스레드명)
6. ✅ 기본 권한 관리

### Should Have (중요 기능)

7. ✅ 파일 미리보기
8. ✅ 메시지 히스토리
9. ✅ 사용자 상태 (온라인/오프라인)
10. ✅ 기본 검색

### Could Have (부가 기능)

11. ⏳ 파일 다운로드
12. ⏳ 스레드 멤버 관리
13. ⏳ 모바일 반응형

## 10일 개발 계획 (백엔드-프론트엔드 병렬 개발)

### Day 1: 데이터베이스 설계 및 구현

**목표**: 핵심 데이터 모델 설계 및 TypeORM 엔티티 구현

**구현 작업**:

- PostgreSQL 스키마 설계
- TypeORM 엔티티 생성:
  - `User` (사용자 정보)
  - `Thread` (스레드 정보)
  - `File` (파일 메타데이터)
  - `Message` (채팅 메시지)
  - `Permission` (권한 관리)
- 데이터베이스 마이그레이션 설정
- 기본 CRUD 레포지토리 생성

**결과물**:

- 완성된 데이터베이스 스키마
- TypeORM 엔티티 파일들
- 마이그레이션 파일들

**테스트**:

- 데이터베이스 연결 테스트
- 엔티티 생성/조회 테스트

---

### Day 2: 사용자 인증 시스템

**목표**: JWT 기반 인증 시스템 및 사용자 관리 API 구현

**구현 작업**:

- JWT 토큰 생성/검증 모듈
- bcrypt를 이용한 비밀번호 해싱
- 회원가입 API (`POST /auth/register`)
- 로그인 API (`POST /auth/login`)
- 인증 미들웨어 구현
- 사용자 프로필 API (`GET /users/profile`)

**결과물**:

- 완성된 인증 시스템
- 사용자 관리 API 엔드포인트들
- 인증 미들웨어

**테스트**:

- 회원가입/로그인 플로우 테스트
- JWT 토큰 검증 테스트

---

### Day 3: 파일 업로드 시스템 + React 프로젝트 설정

**백엔드 목표**: 파일 업로드 처리 및 저장소 설정

**백엔드 구현 작업**:

- Multer를 이용한 파일 업로드 처리
- 파일 타입 검증 (이미지, 문서, 압축파일 등)
- 파일 크기 제한 설정
- 파일 저장소 설정 (로컬/클라우드)
- 파일 메타데이터 저장
- 파일 업로드 API (`POST /files/upload`)

**프론트엔드 목표**: React 앱 기본 구조 설정

**프론트엔드 구현 작업**:

- React 앱 초기 설정 (Vite + TypeScript)
- React Router 설정
- shadcn/ui 컴포넌트 설치 및 설정
- Tailwind CSS 설정
- 기본 레이아웃 컴포넌트
- 프로젝트 구조 설계

**결과물**:

- 백엔드: 파일 업로드 API, 파일 저장소 설정
- 프론트엔드: React 앱 기본 구조, 컴포넌트 시스템

**테스트**:

- 백엔드: 다양한 파일 타입 업로드 테스트
- 프론트엔드: 컴포넌트 렌더링 테스트

---

### Day 4: 파일 관리 시스템 + 인증 UI

**백엔드 목표**: 파일 다운로드, 삭제, 메타데이터 관리 API 구현

**백엔드 구현 작업**:

- 파일 다운로드 API (`GET /files/:id/download`)
- 파일 삭제 API (`DELETE /files/:id`)
- 파일 목록 조회 API (`GET /files`)
- 파일 메타데이터 조회 API (`GET /files/:id`)
- 파일 권한 검증 로직
- 파일 미리보기 API (이미지, PDF 등)

**프론트엔드 목표**: 인증 UI (로그인/회원가입) 개발

**프론트엔드 구현 작업**:

- 로그인 페이지 UI
- 회원가입 페이지 UI
- 인증 상태 관리 (Context API)
- API 클라이언트 설정 (Axios)
- 폼 검증 로직
- 라우팅 보호 (Protected Routes)

**결과물**:

- 백엔드: 완성된 파일 관리 API, 파일 권한 시스템
- 프론트엔드: 인증 UI, 상태 관리 시스템

**테스트**:

- 백엔드: 파일 다운로드/삭제 테스트, 권한 검증 테스트
- 프론트엔드: 인증 플로우 테스트, 폼 검증 테스트

---

### Day 5: 스레드 생성 및 관리 + 파일 업로드 UI

**백엔드 목표**: 파일 기반 스레드 생성 및 관리 API 구현

**백엔드 구현 작업**:

- 스레드 생성 API (`POST /threads`)
- 파일과 스레드 연결 로직
- 스레드 목록 조회 API (`GET /threads`)
- 스레드 상세 조회 API (`GET /threads/:id`)
- 스레드 수정 API (`PUT /threads/:id`)
- 스레드 삭제 API (`DELETE /threads/:id`)

**프론트엔드 목표**: 파일 업로드 UI 개발

**프론트엔드 구현 작업**:

- 파일 업로드 드래그 앤 드롭 UI
- 파일 미리보기 컴포넌트
- 업로드 진행률 표시
- 파일 타입별 아이콘 표시
- 업로드 에러 처리
- 파일 목록 UI

**결과물**:

- 백엔드: 완성된 스레드 관리 API, 파일-스레드 연결 시스템
- 프론트엔드: 파일 업로드 UI, 파일 관리 컴포넌트

**테스트**:

- 백엔드: 스레드 생성/조회 테스트, 파일-스레드 연결 테스트
- 프론트엔드: 파일 업로드 플로우 테스트, UI 상호작용 테스트

---

### Day 6: 스레드 참조 시스템 + 채팅 UI

**백엔드 목표**: #스레드명 참조 시스템 및 파싱 로직 구현

**백엔드 구현 작업**:

- 메시지에서 #스레드명 패턴 파싱
- 스레드 참조 생성 API
- 스레드 참조 조회 API (`GET /threads/references`)
- 스레드 링크 생성 로직
- 스레드 참조 통계 API

**프론트엔드 목표**: 채팅 UI 및 실시간 통신 구현

**프론트엔드 구현 작업**:

- 채팅 인터페이스 UI
- 메시지 입력 컴포넌트
- 메시지 목록 컴포넌트
- Socket.io 클라이언트 설정
- 실시간 메시지 수신
- 타이핑 인디케이터
- 온라인 사용자 표시

**결과물**:

- 백엔드: 스레드 참조 파싱 시스템, 스레드 링크 생성 기능
- 프론트엔드: 채팅 UI, 실시간 통신 시스템

**테스트**:

- 백엔드: #스레드명 파싱 테스트, 스레드 참조 생성 테스트
- 프론트엔드: 실시간 메시지 테스트, UI 반응성 테스트

---

### Day 7: 실시간 채팅 시스템 + 스레드 UI

**백엔드 목표**: Socket.io를 이용한 실시간 채팅 API 구현

**백엔드 구현 작업**:

- Socket.io 서버 설정
- 채팅방 입장/퇴장 이벤트
- 메시지 전송 이벤트 (`message:send`)
- 메시지 수신 이벤트 (`message:receive`)
- 사용자 타이핑 상태 이벤트
- 온라인 사용자 목록 관리

**프론트엔드 목표**: 스레드 UI 개발

**프론트엔드 구현 작업**:

- 스레드 목록 UI
- 스레드 상세 UI
- 스레드 생성 모달
- 스레드 참조 링크 UI
- 스레드 멤버 관리 UI
- 스레드 검색 기능

**결과물**:

- 백엔드: 실시간 채팅 시스템, Socket.io 이벤트 핸들러들
- 프론트엔드: 스레드 UI, 스레드 관리 컴포넌트

**테스트**:

- 백엔드: 실시간 메시지 전송 테스트, 다중 사용자 채팅 테스트
- 프론트엔드: 스레드 UI 상호작용 테스트, 네비게이션 테스트

---

### Day 8: 메시지 히스토리 및 상태 관리 + 프론트엔드 통합

**백엔드 목표**: 메시지 저장, 조회, 상태 관리 시스템 구현

**백엔드 구현 작업**:

- 메시지 저장 로직
- 메시지 히스토리 조회 API (`GET /messages`)
- 메시지 상태 관리 (읽음/안읽음)
- 사용자 온라인 상태 관리
- 메시지 검색 API (`GET /messages/search`)

**프론트엔드 목표**: 프론트엔드 통합 및 상태 관리

**프론트엔드 구현 작업**:

- 전역 상태 관리 (Zustand/Redux)
- API 통합 및 에러 처리
- 로딩 상태 관리
- 사용자 상태 관리
- 메시지 히스토리 UI
- 검색 기능 UI

**결과물**:

- 백엔드: 메시지 히스토리 시스템, 사용자 상태 관리 시스템
- 프론트엔드: 통합된 상태 관리, 완성된 UI 컴포넌트들

**테스트**:

- 백엔드: 메시지 히스토리 조회 테스트, 상태 관리 테스트
- 프론트엔드: 상태 관리 테스트, API 통합 테스트

---

### Day 9: 백엔드-프론트엔드 통합

**목표**: 백엔드 API와 프론트엔드 완전 통합

**구현 작업**:

- API 엔드포인트 연결
- 실시간 통신 통합
- 인증 플로우 통합
- 파일 업로드 통합
- 스레드 생성 플로우 통합
- 채팅-스레드 연동
- 에러 처리 통합
- 로딩 상태 통합

**결과물**:

- 완전히 통합된 MVP 시스템
- 모든 기능이 연결된 워크플로우

**테스트**:

- 전체 사용자 플로우 테스트
- 실시간 기능 통합 테스트
- 에러 시나리오 테스트

---

### Day 10: 전체 시스템 테스트 및 버그 수정

**목표**: MVP 완성 및 최종 테스트

**구현 작업**:

- 전체 시스템 통합 테스트
- 사용자 시나리오 테스트
- 성능 최적화
- 버그 수정
- 반응형 디자인 완성
- 접근성 개선
- 최종 배포 준비

**결과물**:

- 완성된 MVP 제품
- 배포 가능한 상태의 애플리케이션

**테스트**:

- 전체 플로우 통합 테스트
- 사용자 시나리오 테스트
- 성능 테스트

## 성공 기준

### 기능적 요구사항

- [ ] 사용자가 회원가입/로그인할 수 있다
- [ ] 사용자가 파일을 업로드할 수 있다
- [ ] 파일 업로드 시 스레드가 자동 생성된다
- [ ] 사용자가 실시간으로 채팅할 수 있다
- [ ] 채팅에서 #스레드명으로 스레드를 참조할 수 있다
- [ ] 사용자가 스레드 내 파일을 관리할 수 있다

### 비기능적 요구사항

- [ ] 응답 시간 < 2초
- [ ] 동시 사용자 100명 지원
- [ ] 파일 업로드 크기 제한 10MB
- [ ] 99% 가용성

## 위험 요소 및 대응 방안

### 기술적 위험

1. **실시간 통신 지연**: Socket.io 최적화 및 연결 풀 관리
2. **파일 업로드 실패**: 재시도 로직 및 에러 핸들링
3. **데이터베이스 성능**: 인덱스 최적화 및 쿼리 튜닝

### 일정 위험

1. **기능 범위 확장**: MVP 범위 엄격히 준수
2. **통합 이슈**: 매일 통합 테스트 수행
3. **버그 수정 시간**: 버퍼 시간 확보

## 6개월 발전 계획

### Month 1-2: 안정화 및 사용자 피드백

- MVP 버그 수정 및 성능 최적화
- 사용자 피드백 수집 및 분석
- 기본 분석 도구 구현

### Month 3-4: 고급 기능 추가

- 고급 검색 기능
- 파일 버전 관리
- 외부 공유 링크
- 모바일 앱 개발

### Month 5-6: 엔터프라이즈 기능

- SSO 통합
- 고급 분석 도구
- 화이트라벨 솔루션
- API 플랫폼 구축

## 결론

이 수정된 10일 MVP 계획은 백엔드와 프론트엔드를 병렬로 개발하여 더 현실적이고 효율적인 개발이 가능합니다. 프론트엔드에 충분한 시간(6일)을 할당하여 React + shadcn/ui 기반의 완성도 높은 UI를 구축할 수 있습니다.
